---
import H2Title from "../UI/H2Title.astro";
import SecondaryButton from "../UI/SecondaryButton.astro";
import Section from "../UI/Section.astro";
import ThreeColumnsGrid from "../UI/ThreeColumnsGrid.astro";

const { data } = Astro.props;
---

<Section class="hidden lg:block">
    <H2Title text={data.title} line={false} />
    <ThreeColumnsGrid>
        {
            data.services.map((service) => (
                <article>
                    <header class="overflow-hidden aspect-square">
                        <a href={service.href} class="relative h-[22rem] w-full group overflow-hidden">
                            <div class="card absolute h-full flex flex-row w-full justify-between items-end p-8">
                                <h2 set:html={service.title} class="font-bold text-3xl text-white max-w-52 z-10"></h2>
                                <button class="bg-primary-500 text-white text-base font-semibold px-2 py-3 rounded-xl group-hover:-translate-y-4 transition-transform ease-in-out duration-500 z-10">Ver más</button>
                            </div>
                            <img src={service.image.src} alt={service.image.alt} 
                            class="h-full w-full object-cover object-top -z-10 transition-all duration-500 ease-in-out transform group-hover:object-right scale-100 group-hover:scale-110 group-hover:translate-x-5"
                            />
                            <div id="gradientServices"></div>
                        </a>
                    </header>
                    <footer class="px-2 py-6 gap-5 flex flex-col">
                        <h3 class="text-start text-2xl">{service.subtitle}</h3>
                        <p>{service.description}</p>
                        <SecondaryButton class="mx-auto mt-5" href={service.href} text="VER MÁS" />
                    </footer>
                </article>
            ))
        }
    </ThreeColumnsGrid>
</Section>

<style>
    .card {
        min-width: 23rem;
        min-height: 23rem;
    }
    #gradientServices {
        position: absolute;
        top: 0;
        left: 0;
        min-width: 24rem;
        min-height: 25rem;
        width: 100%;
        height: 100%;
        @apply bg-gradient-to-t from-[#004C4A] to-transparent to-75%
    }
</style>