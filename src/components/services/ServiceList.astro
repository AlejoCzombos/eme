---
import SecondaryButton from "../UI/SecondaryButton.astro";
import Section from "../UI/Section.astro";
import ThreeColumnsGrid from "../UI/ThreeColumnsGrid.astro";

const { services } = Astro.props;
---

<Section>
    <ThreeColumnsGrid>
        {
            services.map((service) => (
                <article>
                    <hgroup class="overflow-hidden aspect-square">
                        <a href={service.href} class="relative h-[22rem] w-full group">
                            <img src={service.image.src} alt={service.image.alt} 
                            class="h-full w-full object-cover object-top -z-10 transition-all duration-500 ease-in-out transform group-hover:object-right scale-100 group-hover:scale-110 group-hover:translate-x-5"
                            />
                            <h2 set:html={service.title} id="serviceCard" class="absolute top-0 left-0 font-bold text-white text-3xl h-full flex flex-col justify-end p-10 z-10"></h2>
                            <div id="gradientServices"></div>
                        </a>
                    </hgroup>
                    <footer class="px-2 py-6 gap-5 flex flex-col">
                        <h3 class="text-start text-2xl">{service.subtitle}</h3>
                        <p>{service.description}</p>
                        <SecondaryButton class="mx-auto mt-5" href={service.href} text="VER MÁS" />
                    </footer>
                </article>
            ))
        }
    </ThreeColumnsGrid>
</Section>

<style>
    #gradientServices {
        position: absolute;
        top: 0;
        left: 0;
        min-width: 25rem;
        min-height: 25rem;
        width: 100%;
        height: 100%;
        @apply bg-gradient-to-t from-[#004C4A] to-transparent to-75%
    }
    
    #serviceCard {
        min-width: 25rem;
        min-height: 25rem;
    }
</style>